<div class="bg-slate-50 min-h-screen p-6">
  <div class="max-w-6xl mx-auto">
    
    <!-- Cabeçalho -->
    <header class="mb-6">
      <h1 class="text-3xl font-bold text-slate-800">Gerenciador de Tarefas - Estudos</h1>
      <p class="text-slate-600 mt-1">Cards em 3 colunas: Para fazer, Em andamento, Concluídas.</p>
    </header>

    <!-- Área de ação com botão de adicionar -->
    <div class="mb-6 flex items-center justify-between">
      <div>
        <p class="text-slate-600">Adicione novas tarefas pelo botão <span class="font-semibold">+</span>.</p>
      </div>
      <div>
        <button 
          (click)="openNewTaskModal()" 
          aria-label="Adicionar tarefa" 
          class="w-10 h-10 rounded-full bg-indigo-600 text-white flex items-center justify-center text-2xl hover:bg-indigo-700">
          +
        </button>
      </div>
    </div>

    <!-- Grid com as 3 colunas -->
    <main>
      <div class="grid grid-cols-1 md:grid-cols-3 gap-4">
        
        <!-- Coluna: Para fazer -->
        <div>
          <h2 class="font-semibold mb-2">Para fazer</h2>
          <div class="space-y-3 min-h-[200px] p-3 bg-white rounded shadow-sm">
            <app-task-card
              *ngFor="let task of getTodoTasks()"
              [task]="task"
              [proximityColor]="getProximityColor(task.due)"
              (onEdit)="openEditTaskModal($event)"
              (onDelete)="handleDeleteTask($event)"
              (onMove)="handleMoveTask($event)">
            </app-task-card>
            
            <!-- Mensagem quando não há tarefas -->
            <p *ngIf="getTodoTasks().length === 0" class="text-sm text-slate-400 text-center py-8">
              Nenhuma tarefa para fazer
            </p>
          </div>
        </div>

        <!-- Coluna: Em andamento -->
        <div>
          <h2 class="font-semibold mb-2">Em andamento</h2>
          <div class="space-y-3 min-h-[200px] p-3 bg-white rounded shadow-sm">
            <app-task-card
              *ngFor="let task of getDoingTasks()"
              [task]="task"
              [proximityColor]="getProximityColor(task.due)"
              (onEdit)="openEditTaskModal($event)"
              (onDelete)="handleDeleteTask($event)"
              (onMove)="handleMoveTask($event)">
            </app-task-card>
            
            <p *ngIf="getDoingTasks().length === 0" class="text-sm text-slate-400 text-center py-8">
              Nenhuma tarefa em andamento
            </p>
          </div>
        </div>

        <!-- Coluna: Concluídas -->
        <div>
          <h2 class="font-semibold mb-2">Concluídas</h2>
          <div class="space-y-3 min-h-[200px] p-3 bg-white rounded shadow-sm">
            <app-task-card
              *ngFor="let task of getDoneTasks()"
              [task]="task"
              [proximityColor]="getProximityColor(task.due)"
              (onEdit)="openEditTaskModal($event)"
              (onDelete)="handleDeleteTask($event)"
              (onMove)="handleMoveTask($event)">
            </app-task-card>
            
            <p *ngIf="getDoneTasks().length === 0" class="text-sm text-slate-400 text-center py-8">
              Nenhuma tarefa concluída
            </p>
          </div>
        </div>
      </div>
    </main>

    <!-- Rodapé -->
    <footer class="mt-6 text-sm text-slate-500">
      Salvo no armazenamento local do seu navegador.
    </footer>
  </div>
</div>

<!-- Modal de formulário -->
<app-task-form
  [isVisible]="isModalVisible"
  [taskToEdit]="taskToEdit"
  (onSubmit)="handleFormSubmit($event)"
  (onClose)="closeModal()">
</app-task-form>
